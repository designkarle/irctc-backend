# ==========================================
# User Service - Environment Configuration
# ==========================================
# Copy this file to .env and fill in actual values
# DO NOT commit .env file with real credentials

# ============ Server Configuration ============
PORT=4001
NODE_ENV=development
LOG_LEVEL=info

# ============ Database Configuration ============
# PostgreSQL connection string
# Format: postgres://username:password@host:port/database_name
DATABASE_URL=postgres://admin:yourpassword@localhost:5432/user_service_database

# ============ Redis Configuration ============
# Redis connection string with password
# Format: redis://:password@host:port
REDIS_URL=redis://:yourpassword@localhost:6379

# ============ Kafka Configuration ============
# Kafka broker address
KAFKA_BROKER=localhost:9094

# ============ CORS Configuration ============
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:4000,http://localhost:4001

# ============ OTP Configuration ============
# OTP expiry time in seconds (300 = 5 minutes)
OTP_TTL=300

# OTP HMAC secret key (generate using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
OTP_HMAC_SECRET=your_64_character_hex_string_here

# Maximum OTP requests per hour per user
OTP_RATE_MAX_PER_HOUR=5

# Maximum OTP verification attempts
OTP_MAX_VERIFY_ATTEMPTS=5

# SendGrid API Key for email notifications
# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=your_sendgrid_api_key_here

# ============ JWT Configuration ============
# JWT Access Token Secret (generate using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
JWT_ACCESS_SECRET=your_64_character_hex_string_here

# JWT Refresh Token Secret (generate using: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))")
JWT_REFRESH_SECRET=your_128_character_hex_string_here

# Token expiration times
ACCESS_TOKEN_EXP=15m
REFRESH_TOKEN_EXP=7d

# Token expiration in seconds (for Redis TTL)
ACCESS_TOKEN_EXP_SEC=900
REFRESH_TOKEN_EXP_SEC=604800

# Redis user session TTL in seconds (86400 = 24 hours)
REDIS_USER_TTL=86400